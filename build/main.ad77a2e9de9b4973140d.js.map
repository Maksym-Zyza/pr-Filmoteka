{"version":3,"sources":["webpack:///./template/movieModal.hbs","webpack:///./img/empty-img.jpg","webpack:///./template/myLibraryHeaderTamplate.hbs","webpack:///./js/refs.js","webpack:///./js/teamModal.js","webpack:///./js/updateMarkup.js","webpack:///./js/fetchSearchedMovies.js","webpack:///./js/notifyFunction.js","webpack:///./js/markupSearchedMovies.js","webpack:///./js/queryMovies.js","webpack:///./js/pagination.js","webpack:///./js/spinner.js","webpack:///./js/fetchMovies.js","webpack:///./js/fetchOneMovie.js","webpack:///./js/updateMovieModal.js","webpack:///./js/firebaseConfig.js","webpack:///./js/fnAddEmptyStylePage.js","webpack:///./js/fnNotify.js","webpack:///./js/fnAddDataToFireBase.js","webpack:///./js/fnDelMovie.js","webpack:///./js/fnDelMovieFromFirebase.js","webpack:///./js/fnGetDataFromFireBase.js","webpack:///./js/myLibrary.js","webpack:///./js/fnReloadPage.js","webpack:///./js/library-header.js","webpack:///./js/renderingContent.js","webpack:///./js/Auth.js","webpack:///./js/modalCards.js","webpack:///./js/script.js","webpack:///./js/scrollBtn.js","webpack:///./template/libraryListOfMovieTml.hbs","webpack:///./js/cnahgeTheme.js","webpack:///./img/empty-page-optimaze.png","webpack:///./template/movieCards.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","escapeExpression","hooks","helperMissing","nullContext","stack1","alias1","lambda","alias2","program","noop","searchBySelector","querySelector","el","force","document","refs","headerBtnWrapper","body","upBtn","gallery","form","input","modalDiv","lightbox","overlayDiv","btnClose","modalDivContent","libraryButton","getElementById","header","galleryList","watchedBtn","homeBtn","pagination","btnPage1","btnPage2","btnPage3","btnPage4","btnPage5","previous","next","dots1","dots2","btnMore","queueBtn","delMovieBtn","querySelectorAll","addToWatched","addToQueue","signIn","signOut","userInfo","searchBtn","btns","openModalBtn","closeModalBtn","modal","closeModal","classList","remove","removeEventListener","add","window","onPressEscape","event","code","backdropCloseModal","currentTarget","target","addEventListener","updateMarkup","movie","markup","status","movieCardsTpl","insertAdjacentHTML","fetchSearchedMovie","searchMovie","page","fetch","then","response","json","catch","error","console","log","notify","nameOfList","PNotify","text","icon","styling","delay","overlayClosesPinned","query","allQuery","click","markupSearchedMovie","preventDefault","elements","search","value","push","innerHTML","reverse","length","hidden","style","display","results","fetchGenres","genres","updateMovieMarkup","queryMovies","fetchMovies","tagName","activeBtn","dataset","index","currentPage","Number","btn1","btn2","btn3","btn4","btn5","contains","forEach","textContent","btnEvent","setBtnActiveStyle","opts","lines","width","radius","scale","corners","speed","rotate","animation","direction","color","fadeColor","top","left","shadow","zIndex","className","position","films","map","id","poster_path","title","release_date","genre_ids","mapGenres","filter","genre","includes","name","splice","movieGenres","slice","join","releaseDate","split","img","emptyJpg","url","spinner","Spinner","spin","finally","stop","fetchOneMovie","movie_id","updateMovieModal","popularity","Math","round","movieModalTpl","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","databaseURL","addEmptyStylePage","hasChildNodes","emptyPage","authNotify","updateQueuetList","userId","movieId","firebase","database","ref","update","queue","updateWatchetList","watched","deleteMovie","uid","location","hash","dataId","auth","val","movieIndx","indexOf","get","queueIndx","getMoviesWatched","async","setAttribute","watchedList","movieObjects","Promise","all","vote_average","getMoviesQueue","queueList","libraryListOfMovieTml","movieData","currentUser","queueSetStyles","toggleClass","removeAttribute","selector","cls","toggle","fnReloadPage","library","headerRef","libraryRef","inputRef","pageRef","itemsTemplate","createMarkup","btnWrapper","replace","reloadPage","renderingContent","callback","not","readUserData","once","checkMovieInStorage","dataFromWatched","dataFromQueue","initializeApp","provider","GoogleAuthProvider","signInWithPopup","result","credential","accessToken","user","displayName","email","imageUrl","photoURL","checkUserID","exists","set","username","profile_picture","writeUserData","errorMessage","message","href","e","nodeName","activeImg","src","vote_count","original_title","overview","openModal","ev","markUpSearchMovie","toggleAttribute","queueFilmBtn","watchedFilmBtn","actionWatched","actionQueue","onAuthStateChanged","throttle","pageYOffset","documentElement","clientHeight","scrollTo","behavior","alias3","alias4","bodyRef","inputChange","Theme","checked","localStorage","setItem","getItem"],"mappings":"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","file":"main.ad77a2e9de9b4973140d.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                    \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":29,\"column\":20},\"end\":{\"line\":29,\"column\":28}}}) : helper)))\n    + \"&nbsp;&nbsp;\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<!-- Шаблон модалки одного фильма -->\\n\\n<div class=\\\"movie-container\\\">\\n    <div class=\\\"movie-image\\\">\\n        <img src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"img\") : depth0), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"title\") : depth0), depth0))\n    + \"\\\">\\n    </div>\\n    <div class=\\\"movie-description\\\">\\n        <h1 class=\\\"movie-description-title\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"title\") : depth0), depth0))\n    + \"</h1>\\n        <div class=\\\"movie-description-block\\\">\\n            <ul class=\\\"movie-description-list-left\\\">\\n                <li class=\\\"movie-description-list-left-item\\\">Vote / Votes</li>\\n                <li class=\\\"movie-description-list-left-item\\\">Popularity</li>\\n                <li class=\\\"movie-description-list-left-item\\\">Original title</li>\\n                <li class=\\\"movie-description-list-left-item\\\">Genre</li>\\n            </ul>\\n            <ul class=\\\"movie-description-list-right\\\">\\n                <li class=\\\"movie-description-list-right-item\\\">\\n                    <span class=\\\"movie-rating filler\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0), depth0))\n    + \"</span> /\\n                    <span class=\\\"movie-vote-count filler\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"vote_count\") : depth0), depth0))\n    + \"</span>\\n                </li>\\n                <li class=\\\"movie-description-list-right-item\\\">\\n                    \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"popularity\") : depth0), depth0))\n    + \"\\n                </li>\\n                <li class=\\\"movie-description-list-right-item\\\">\\n                    <span class=\\\"original-title\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0), depth0))\n    + \"</span>\\n                </li>\\n                <li class=\\\"movie-description-list-right-item\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"genres\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":28,\"column\":20},\"end\":{\"line\":30,\"column\":29}}})) != null ? stack1 : \"\")\n    + \"                </li>\\n            </ul>\\n        </div>\\n        <div class=\\\"movie-about\\\">\\n            <p class=\\\"movie-about-title\\\">ABOUT</p>\\n            <p class=\\\"movie-about-text\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"overview\") : depth0), depth0))\n    + \"</p>\\n        </div>\\n        <button class=\\\"add-to-watched active-btn-style\\\" type=\\\"button\\\" data-action-watched=\\\"watched\\\"\\n            data-movie-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\">ADD TO\\n            WATCHED</button>\\n        <button class=\\\"add-to-queue active-btn-style\\\" type=\\\"button\\\" data-action-queue=\\\"queue\\\"\\n            data-movie-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\">ADD TO\\n            QUEUE</button>\\n    </div>\\n</div>\";\n},\"useData\":true});","module.exports = __webpack_public_path__ + \"img/empty-img.jpg\";","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"btn-wrapper\\\">\\n  <button id=\\\"watched-film-btn\\\" data-watched-film-btn=\\\"watch-btn\\\" class=\\\"btn btn-active-style\\\" disabled>Watched</button>\\n  <button id=\\\"watched-queue-btn\\\" data-queue-film-btn=\\\"queue-btn\\\" class=\\\"btn btn-nonactive-style\\\">queue</button>\\n</div>\";\n},\"useData\":true});","const searchBySelector = querySelector => {\n  let el;\n  return (force = false) => {\n    if (!el || force) {\n      el = document.querySelector(querySelector);\n    }\n    return el;\n  };\n};\n\nconst refs = {\n  headerBtnWrapper: searchBySelector('div.btn-wrapper'),\n  body: document.querySelector('body'),\n  upBtn: document.querySelector('.up-btn-wrapper'),\n  gallery: document.querySelector('#gallery'),\n  form: document.querySelector('.search-form'),\n  input: document.querySelector('.search-field'),\n  modalDiv: document.querySelector('.js-lightbox'),\n  lightbox: document.querySelector('.lightbox'),\n  overlayDiv: document.querySelector('.lightbox__overlay'),\n  btnClose: document.querySelector('.lightbox__btn'),\n  modalDivContent: document.querySelector('.lightbox__content'),\n  libraryButton: document.querySelector('.library-ref'),\n  container: document.getElementById('.container'),\n  header: document.querySelector('#page-header'),\n  galleryList: document.querySelector('.gallery'),\n  watchedBtn: document.querySelector('#watched-film-btn'),\n  homeBtn: document.querySelector('.home-ref'),\n\n  pagination: document.querySelector('.pagination'),\n  btnPage1: document.querySelector('.btn-page1'),\n  btnPage2: document.querySelector('.btn-page2'),\n  btnPage3: document.querySelector('.btn-page3'),\n  btnPage4: document.querySelector('.btn-page4'),\n  btnPage5: document.querySelector('.btn-page5'),\n  previous: document.querySelector('.previous'),\n  next: document.querySelector('.next'),\n  dots1: document.querySelector('.js-dots1'),\n  dots2: document.querySelector('.js-dots2'),\n  btnMore: document.querySelector('.btn-load-more'),\n\n  queueBtn: searchBySelector('#watched-queue-btn'),\n  watchedBtn: searchBySelector('#watched-film-btn'),\n  delMovieBtn: document.querySelectorAll('#delMovieBtn'),\n  addToWatched: searchBySelector(\".add-to-watched\"),\n  addToQueue: searchBySelector('.add-to-queue'),\n\n  signIn: document.querySelector('#sign_in'),\n  signOut: document.querySelector('#sign_out'),\n  userInfo: document.querySelector('.user-info'),\n\n  searchBtn: document.querySelector('.search-btn'),\n};\n\nexport default refs;\n","import refs from './refs';\n(() => {\n  const btns = {\n    openModalBtn: document.querySelector(\"[data-modal-open]\"),\n    closeModalBtn: document.querySelector(\".team-modal-close-button\"),\n    modal: document.querySelector(\".backdrop\"),\n  };\n\n  btns.openModalBtn.addEventListener(\"click\", openModal);\n  \n  function openModal() {\n      btns.modal.classList.remove(\"is-hidden\");\n      window.addEventListener(\"keydown\", onPressEscape);\n      btns.closeModalBtn.addEventListener(\"click\", closeModal);\n    btns.modal.addEventListener(\"click\", backdropCloseModal);\n    refs.body.classList.add('scroll-hidden');\n    };\n  function closeModal() {\nrefs.body.classList.remove('scroll-hidden');\n    btns.closeModalBtn.removeEventListener(\"click\", closeModal);\n    btns.modal.classList.add(\"is-hidden\");\n    btns.modal.removeEventListener(\"click\", closeModal);\n  window.removeEventListener('keydown', onPressEscape);\n  }\n  function onPressEscape(event) {\n    if (event.code === 'Escape') {\n      closeModal();\n    }\n  }\n  function backdropCloseModal(event) {\n    if (event.currentTarget === event.target) {\n    closeModal();\n  }\n  }\n})();\n","// Подгрузка разметки\n\nimport refs from './refs';\nimport movieCardsTpl from '../template/movieCards.hbs';\n\nfunction updateMarkup(movie) {\n  let markup = '';\n  if (movie.status !== '404') {\n    markup = movieCardsTpl(movie);\n  }\n\n  refs.gallery.insertAdjacentHTML('beforeend', markup);\n}\n\nexport default updateMarkup;\n","const apiKey = \"api_key=50b81e1c6c3b9e5f74d2015b742ff0b0\";\n \nfunction fetchSearchedMovie(searchMovie, page) {\n   const url = `https://api.themoviedb.org/3/search/movie?${apiKey}&language=en-US&page=${page}&include_adult=false&query=${searchMovie}`;\n  \n   return fetch(url)\n       .then(response => response.json())\n       .catch(error => console.log(error));\n  \n  \n}\n \nexport default fetchSearchedMovie;","import '@pnotify/core/dist/PNotify.css';\nimport * as PNotify from '@pnotify/core';\nimport '@pnotify/core/dist/BrightTheme.css';\nimport refs from './refs';\n\nfunction notify(nameOfList) {\n  PNotify.notice({\n    text: `The movie has been added to the ${nameOfList} list`,\n    icon: true,\n    styling: 'custom',\n    delay: 700,\n    overlayClosesPinned: true,\n  });\n};\n\n function error () {\n  PNotify.error({\n    text: 'There was found nothing for your query',\n    icon: true,\n    styling: 'custom',\n    delay: 2000,\n    overlayClosesPinned: true,\n  })\n}\n\nfunction empty () {\n  PNotify.error({\n    text: 'Please, fill in the query field',\n    icon: true,\n    styling: 'custom',\n    delay: 2000,\n    overlayClosesPinned: true,\n  })\n}\n  export default notify;\nexport { error as error, empty as empty };","import fetchSearchedMovie from './fetchSearchedMovies';\nimport refs from './refs';\nimport { error, empty } from './notifyFunction';\nimport { fetchGenres } from './fetchMovies';\nimport { updateMovieMarkup } from './fetchMovies';\n\n \nlet query = '';\nlet page = 1;\nconst allQuery = [];\n \n \nfunction markupSearchedMovie() {\n refs.form.addEventListener('submit', event => {\n   event.preventDefault();\n \n   query = event.currentTarget.elements.search.value;\n   // console.log('query>', query);\n  \n   allQuery.push(query)\n   // console.log(allQuery);\n   if (allQuery[0] !== query) {\n     refs.gallery.innerHTML = '';\n     page = 1;\n   }\n   allQuery.reverse()\n \n   if (query.length > 0) {\n     refs.pagination.hidden = true\n     refs.btnMore.style.display = 'block';\n   } else {\n     refs.pagination.hidden = false\n    }\n  \n   console.log('page>', page);\n \n   if (page === 1) {\n     refs.gallery.innerHTML = '';\n    }\n \n   if (refs.input.value === ''){\n     empty();\n     refs.gallery.innerHTML = '';\n     refs.pagination.hidden = true\n     refs.btnMore.style.display = 'none';\n     return;\n   }\n   fetchSearchedMovie(query, page).then(({ results }) => {\n     console.log('search', { results })\n \n     if (results.length === 0) {\n       error();\n       refs.btnMore.style.display = 'none';\n       return\n \n     }\n     fetchGenres().then(({ genres }) => {\n       updateMovieMarkup(results, genres);\n \n     });\n    \n   }\n   )\n })\n}\n \nrefs.btnMore.addEventListener('click', fetchMoreMovie);\n \nfunction fetchMoreMovie() {\n page = page + 1;\n refs.searchBtn.click()\n}\n \nexport default markupSearchedMovie;\n \nexport { query };\n  \n \n","import refs from './refs';\nimport fetchMovies from './fetchMovies';\nimport { query } from './markupSearchedMovies'\n\nfunction queryMovies() {\n    \n    refs.gallery.innerHTML = '';\n    \n    if (query.length > 0) {\n        refs.searchBtn.click();\n    } else {\n        fetchMovies();\n    }\n\n    \n}\n\nexport default queryMovies","import refs from './refs';\nimport queryMovies from './queryMovies'\n\n\nrefs.pagination.addEventListener(\"click\", onBtnClick);\nlet currentPage = 1;\n\nrefs.previous.hidden = true;\nrefs.dots1.hidden = true;\n\nfunction onBtnClick(event) {\n\n  if (event.target.tagName === 'BUTTON') {\n\n    const activeBtn = event.target.dataset.index;\n    currentPage = Number(activeBtn);\n\n    refs.previous.hidden = true;\n    refs.dots1.hidden = true;\n\n    const btn1 = refs.btnPage1;\n    const btn2 = refs.btnPage2;\n    const btn3 = refs.btnPage3;\n    const btn4 = refs.btnPage4;\n    const btn5 = refs.btnPage5;\n    const previous = refs.previous;\n    const next = refs.next;\n\n    if (event.target.classList.contains(\"next\") && currentPage < 999) {\n      btns.forEach((el) => el.classList.remove(\"active\"))\n      btn1.classList.add(\"active\");\n      next.dataset.index = Number(next.dataset.index) + 5;\n      btn1.textContent = Number(btn1.textContent) + 5;\n      btn2.textContent = Number(btn2.textContent) + 5;\n      btn3.textContent = Number(btn3.textContent) + 5;\n      btn4.textContent = Number(btn4.textContent) + 5;\n      btn5.textContent = Number(btn5.textContent) + 5;\n      btn1.dataset.index = Number(btn1.dataset.index) + 5;\n      btn2.dataset.index = Number(btn2.dataset.index) + 5;\n      btn3.dataset.index = Number(btn3.dataset.index) + 5;\n      btn4.dataset.index = Number(btn4.dataset.index) + 5;\n      btn5.dataset.index = Number(btn5.dataset.index) + 5;\n      currentPage = next.dataset.index;\n    }\n\n    previous.dataset.index = currentPage;\n\n    if (event.target.classList.contains(\"previous\") && currentPage > 5) {\n      next.dataset.index = Number(next.dataset.index) - 5;\n      previous.dataset.index = next.dataset.index\n      btn1.textContent = Number(btn1.textContent) - 5;\n      btn2.textContent = Number(btn2.textContent) - 5;\n      btn3.textContent = Number(btn3.textContent) - 5;\n      btn4.textContent = Number(btn4.textContent) - 5;\n      btn5.textContent = Number(btn5.textContent) - 5;\n      btn1.dataset.index = Number(btn1.dataset.index) - 5;\n      btn2.dataset.index = Number(btn2.dataset.index) - 5;\n      btn3.dataset.index = Number(btn3.dataset.index) - 5;\n      btn4.dataset.index = Number(btn4.dataset.index) - 5;\n      btn5.dataset.index = Number(btn5.dataset.index) - 5;\n      currentPage = previous.dataset.index;\n    }\n    console.log('currentPage>', currentPage);\n    if (event.target.classList.contains(\"btn\")) {\n      setBtnActiveStyle(event)\n    }\n\n    queryMovies()\n    }\n\n  if (Number(currentPage) > 5) {\n    refs.previous.hidden = false;\n    refs.dots1.hidden = false;\n  }\n  if (Number(currentPage) > 995) {\n    refs.next.hidden = true;\n    refs.dots2.hidden = true;\n  }\n  \n}\n\nlet btns = document.querySelectorAll('.btn');\n\nfunction setBtnActiveStyle(event) {\n  let btnEvent = event.target;\n  btns.forEach((el) => el.classList.remove(\"active\"));\n  if (btnEvent.classList.contains(\"btn\")) {\n    btnEvent.classList.add(\"active\")\n  }\n}\n\nexport { currentPage }","var opts = {\n  lines: 15, // The number of lines to draw\n  length: 0, // The length of each line\n  width: 10, // The line thickness\n  radius: 31, // The radius of the inner circle\n  scale: 1.25, // Scales overall size of the spinner\n  corners: 1, // Corner roundness (0..1)\n  speed: 1.4, // Rounds per second\n  rotate: 0, // The rotation offset\n  animation: 'spinner-line-fade-default', // The CSS animation name for the lines\n  direction: 1, // 1: clockwise, -1: counterclockwise\n  color: '#FF6B08', // CSS color or array of colors\n  fadeColor: 'transparent', // CSS color or array of colors\n  top: '42%', // Top position relative to parent\n  left: '50%', // Left position relative to parent\n  shadow: '0 0 1px transparent', // Box-shadow for the lines\n  zIndex: 2000000000, // The z-index (defaults to 2e9)\n  className: 'spinner', // The CSS class to assign to the spinner\n  position: 'absolute', // Element positioning\n};\n\n// var target = document.getElementById('gallery');\n// var spinner = new Spinner(opts).spin(target);\n// spinner.stop();\n\nexport default opts\n","import refs from './refs';\nimport updateMarkup from './updateMarkup';\nimport movieCardsTpl from '../template/movieCards.hbs';\nimport { currentPage } from './pagination'\n\nimport { Spinner } from 'spin.js';\nimport opts from './spinner'\nimport emptyJpg from '../img/empty-img.jpg'\n\nconst apiKey = \"api_key=50b81e1c6c3b9e5f74d2015b742ff0b0\";\n\nfunction fetchMovies() {\n\n  const url = `https://api.themoviedb.org/3/trending/movie/week?${apiKey}&page=${currentPage}`; // популярные фильмы за неделю\n\n  var target = document.getElementById('gallery');\n  var spinner = new Spinner(opts).spin(target);\n\n  return fetch(url)\n    .then(response => response.json())\n    .then(({ results }) => {\n      fetchGenres().then(({ genres }) => {\n        updateMovieMarkup(results, genres);\n      }).finally(() => {\n        spinner.stop();\n      });\n    });\n}\n\nfunction fetchGenres() {\n  return fetch(\n    `https://api.themoviedb.org/3/genre/movie/list?${apiKey}`,\n  ).then(response => response.json());\n}\n\n\nfunction updateMovieMarkup(films, genres) {\n  films.map(({ id, poster_path, title, release_date, genre_ids }) => {\n    const filterGenres = genres.filter(genre => genre_ids.includes(genre.id));\n    const mapGenres = filterGenres.map(({ name }) => name);\n    if (mapGenres.length > 3) {\n      mapGenres.splice(3, 0, 'Other');\n    }\n    const movieGenres = mapGenres.slice(0, 4).join(', ');\n    const releaseDate = release_date.split('-')[0];\n\n\n    let img = poster_path\n      ? `https://image.tmdb.org/t/p/w500${poster_path}`\n      : emptyJpg;\n\n\n    const movie = [{ id, img, title, movieGenres, releaseDate }];\n    updateMarkup(movie);\n  });\n}\n\nexport default fetchMovies;\n\nexport { fetchGenres as fetchGenres, updateMovieMarkup as updateMovieMarkup };\n\n\n","import { Spinner } from 'spin.js';\nimport opts from './spinner';\n\nconst apiKey = \"api_key=50b81e1c6c3b9e5f74d2015b742ff0b0\";\n\nfunction fetchOneMovie(movie_id) {\n    const url = `https://api.themoviedb.org/3/movie/${movie_id}?${apiKey}`;\n    var target = document.querySelector('.lightbox__content');\n    var spinner = new Spinner(opts).spin(target);\n    return fetch(url)\n        .then(response => response.json())\n        .catch(error => console.log(error)).finally(() => {\n            spinner.stop();\n        });\n}\n\nexport default fetchOneMovie;","import refs from './refs';\nimport movieModalTpl from '../template/movieModal.hbs';\n\nfunction updateMovieModal(movie) {\n\n    let markup = '';\n\n    if (movie.status !== '404') {\n        movie.popularity = Math.round(movie.popularity);\n        markup = movieModalTpl(movie);\n    }\n    refs.modalDivContent.insertAdjacentHTML('beforeend', markup);\n}\n\nexport default updateMovieModal;","const firebaseConfig = {\n      apiKey: \"AIzaSyB5lNJzTc-Z4QORSfsSo5KzvK6lek8SvPI\",\n      authDomain: \"filmoteka-team05.firebaseapp.com\",\n      projectId: \"filmoteka-team05\",\n      storageBucket: \"filmoteka-team05.appspot.com\",\n      messagingSenderId: \"689167922546\",\n      appId: \"1:689167922546:web:27596dcde99cd690ab99eb\",\n      measurementId: \"G-5VVKZRMCCH\",\n      databaseURL: \"https://filmoteka-team05-default-rtdb.firebaseio.com\",\n};\n\nexport default firebaseConfig;","import refs from './refs.js'\nimport emptyPage from '../img/empty-page-optimaze.png'\n\nfunction addEmptyStylePage() {\n    console.log(refs.galleryList.hasChildNodes())\n    if (!refs.galleryList.hasChildNodes()) {\n        refs.gallery.innerHTML = '';\n        refs.galleryList.classList.add('empty-page-style');\n        refs.galleryList.classList.remove('gallery');\n        refs.gallery.innerHTML =\n            `<li><h2>EMPTY<h2><p>Nothing has been added yet :(</p><img class=\"image\" data-empty-page=\"empty-page\" src=${emptyPage} alt=\"empty page pic\"></li>`;\n    }\n}\n\nexport default addEmptyStylePage;","import '@pnotify/core/dist/PNotify.css';\nimport * as PNotify from '@pnotify/core';\nimport '@pnotify/core/dist/BrightTheme.css';\n\nfunction notify(nameOfList) {\n  PNotify.notice({\n    text: `The movie has been added to the ${nameOfList} list`,\n    icon: true,\n    styling: 'custom',\n    delay: 1500,\n    overlayClosesPinned: true,\n  });\n}\n\nfunction authNotify() {\n  PNotify.notice({\n    text: `Please sign in first`,\n    icon: true,\n    styling: 'custom',\n    delay: 1500,\n    overlayClosesPinned: true,\n  });\n}\n\n// function signOutNotify() {\n//   PNotify.notice({\n//     text: `you are logged out`,\n//     icon: true,\n//     styling: 'custom',\n//     delay: 1000,\n//     overlayClosesPinned: true,\n//   });\n// }\n\nexport { authNotify, notify };\n","import notify from './notifyFunction.js'\nimport refs from './refs.js'\nimport * as auth from './Auth.js'\nimport firebase from 'firebase/app';\nimport * as not from './fnNotify.js';\n\n\nfunction addDataToFireBaseStorage() {\n    refs.lightbox.addEventListener('click', (event) => {\n\n        if (event.target.dataset.actionWatched) {\n            const currentUser = firebase.auth().currentUser;\n\n            if (currentUser) {\n                let uid = currentUser.uid;\n                let movieId = event.target.dataset.movieId;\n                const addToWatched = refs.addToWatched(true);\n                auth.readUserData(uid).then((data) => (data.val())).then((data) => {\n                    let watched = data.watched || [];\n                    if (watched.includes(movieId)) {\n                        return;\n                    }\n                    updateWatchetList(uid, [...watched, movieId]);\n                    notify(\"WATCHED\")\n                })\n                if (addToWatched.classList.contains(\"active-btn-style\")) {\n                    addToWatched.classList.remove('active-btn-style');\n                    addToWatched.classList.add('inactive-btn-style');\n                    addToWatched.textContent = \"ALREADY IN WATCHED\";\n                    addToWatched.setAttribute(\"disabled\", 'true');\n                }\n            } else {\n                not.authNotify();\n            }\n            //event.target.setAttribute('disabled', 'true');\n\n\n\n        }\n        if (event.target.dataset.actionQueue) {\n            const currentUser = firebase.auth().currentUser;\n            if (currentUser) {\n                let uid = currentUser.uid;\n                let movieId = event.target.dataset.movieId;\n                const addToQueue = refs.addToQueue(true);\n                auth.readUserData(uid).then((data) => (data.val()))\n                    .then((data) => {\n                        //console.log(\"movieId\", movieId)\n                        let queue = data.queue || [];\n                        if (queue.includes(movieId)) {\n                            return;\n                        }\n                        updateQueuetList(uid, [...queue, movieId]);\n                        notify(\"QUEUE\")\n                    })\n                if (addToQueue.classList.contains(\"active-btn-style\")) {\n                    //console.log(\"queue\")\n                    addToQueue.classList.remove('active-btn-style');\n                    addToQueue.classList.add('inactive-btn-style');\n                    addToQueue.textContent = \"ALREADY IN QUEUE\";\n                    addToQueue.setAttribute(\"disabled\", 'true');\n                }\n            }\n            else {\n                not.authNotify();\n            }\n\n        };\n    })\n}\n\nfunction updateQueuetList(userId, movieId) {\n    //console.log('hello', watched, queue)\n    firebase.database().ref('users/' + userId).update({\n        queue: movieId,\n    }, (error) => {\n        if (error) {\n            console.log('Failed!');\n        } else {\n            console.log('Data added successfully!');\n        }\n    });\n}\n\nfunction updateWatchetList(userId, movieId) {\n    //console.log('hello', watched, queue)\n    firebase.database().ref('users/' + userId).update({\n        watched: movieId,\n    }, (error) => {\n        if (error) {\n            console.log('Failed!');\n        } else {\n            console.log('Data added successfully!');\n        }\n    });\n}\n\nexport {\n    addDataToFireBaseStorage,\n    updateWatchetList,\n    updateQueuetList,\n}","import * as remove from './fnDelMovieFromFirebase.js'\n\nfunction deleteMovie(data, uid) {\n    if (window.location.hash === '#library') {\n        remove.removeWatchedList(uid, data.id)\n    }\n    if (window.location.hash === '#queue') {\n        remove.removeQueueList(uid, data.id)\n    }\n}\n\nexport default deleteMovie;","import refs from './refs.js'\nimport * as auth from './Auth.js'\nimport firebase from 'firebase/app';\nimport * as add from './fnAddDataToFireBase.js'\nimport * as get from './fnGetDataFromFireBase'\n\nfunction removeWatchedList(uid, dataId) {\n    auth.readUserData(uid)\n        .then((data) => (data.val())).then((data) => {\n            if (data.watched) {\n                let watched = data.watched || [];\n                if (watched.includes(dataId)) {\n                    let movieIndx = watched.indexOf(dataId);\n                    watched.splice(movieIndx, 1)\n                    console.log('new watched', watched)\n                }\n                add.updateWatchetList(uid, [...watched]);\n                refs.gallery.innerHTML = \"\";\n                get.getMoviesWatched(uid);\n            }\n        })\n\n};\n\n// if (addToWatched.classList.contains(\"active-btn-style\")) {\n//     addToWatched.classList.remove('active-btn-style');\n//     addToWatched.classList.add('inactive-btn-style');\n//     addToWatched.textContent = \"ALREADY IN WATCHED\";\n//     addToWatched.setAttribute(\"disabled\", 'true');\n// }\n\nfunction removeQueueList(uid, dataId) {\n    auth.readUserData(uid)\n        .then((data) => (data.val())).then((data) => {\n            if (data.queue) {\n                let queue = data.queue || [];\n                if (queue.includes(dataId)) {\n                    let queueIndx = queue.indexOf(dataId);\n                    queue.splice(queueIndx, 1)\n                    console.log(queueIndx)\n                    console.log('new queue', queue)\n                }\n                add.updateQueuetList(uid, [...queue]);\n                refs.gallery.innerHTML = \"\";\n                get.getMoviesQueue(uid);\n            }\n        })\n\n};\n\n// if (addToQueue.classList.contains(\"active-btn-style\")) {\n//     //console.log(\"queue\")\n//     addToQueue.classList.remove('active-btn-style');\n//     addToQueue.classList.add('inactive-btn-style');\n//     addToQueue.textContent = \"ALREADY IN QUEUE\";\n//     addToQueue.setAttribute(\"disabled\", 'true');\n// }\n\nexport {\n    removeWatchedList,\n    removeQueueList,\n};\n\n// function deleteDataToFireBaseStorage() {\n//     refs.lightbox.addEventListener('click', (event) => {\n\n//         if (event.target.dataset.actionWatched) {\n//             const uid = firebase.auth().currentUser.uid;\n\n//             //event.target.setAttribute('disabled', 'true');\n//             let movieId = event.target.dataset.movieId;\n//             const addToWatched = refs.addToWatched(true);\n//             auth.readUserData(uid).then((data) => (data.val())).then((data) => {\n//                 let watched = data.watched || [];\n//                 if (watched.includes(movieId)) {\n//                     return;\n//                 }\n//                 updateWatchetList(uid, [...watched, movieId]);\n//                 notify(\"WATCHED\")\n//             })\n\n// //             if (addToWatched.classList.contains(\"active-btn-style\")) {\n//                 addToWatched.classList.remove('active-btn-style');\n//                 addToWatched.classList.add('inactive-btn-style');\n//                 addToWatched.textContent = \"ALREADY IN WATCHED\";\n//                 addToWatched.setAttribute(\"disabled\", 'true');\n//             }\n\n//         }\n//         if (event.target.dataset.actionQueue) {\n//             let movieId = event.target.dataset.movieId;\n//             const addToQueue = refs.addToQueue(true);\n//             const uid = firebase.auth().currentUser.uid;\n//             auth.readUserData(uid).then((data) => (data.val())).then((data) => {\n//                 //console.log(\"movieId\", movieId)\n//                 let queue = data.queue || [];\n//                 if (queue.includes(movieId)) {\n//                     return;\n//                 }\n//                 updateQueuetList(uid, [...queue, movieId]);\n//                 notify(\"QUEUE\")\n//             })\n//             if (addToQueue.classList.contains(\"active-btn-style\")) {\n//                 //console.log(\"queue\")\n//                 addToQueue.classList.remove('active-btn-style');\n//                 addToQueue.classList.add('inactive-btn-style');\n//                 addToQueue.textContent = \"ALREADY IN QUEUE\";\n//                 addToQueue.setAttribute(\"disabled\", 'true');\n//             }\n\n//         };\n//     })\n// }\n\n// function updateQueuetList(userId, movieId) {\n//     //console.log('hello', watched, queue)\n//     database.ref('users/' + userId).update({\n//         queue: movieId,\n//     }, (error) => {\n//         if (error) {\n//             console.log('Failed!');\n//         } else {\n//             console.log('Data added successfully!');\n//         }\n//     });\n// }\n\n// function updateWatchetList(userId, movieId) {\n//     //console.log('hello', watched, queue)\n//     database.ref('users/' + userId).update({\n//         watched: movieId,\n//     }, (error) => {\n//         if (error) {\n//             console.log('Failed!');\n//         } else {\n//             console.log('Data added successfully!');\n//         }\n//     });\n// }","import refs from './refs.js'\nimport * as auth from './Auth.js'\nimport libraryListOfMovieTml from '../template/libraryListOfMovieTml.hbs';\nimport addEmptyStylePage from './fnAddEmptyStylePage.js'\nimport deleteMovie from './fnDelMovie.js'\nimport firebase from 'firebase/app';\n\n\nfunction getMoviesWatched(uid) {\n    auth.readUserData(uid).then((data) => (data.val())).then(async (data) => {\n        refs.pagination.setAttribute(\"hidden\", \"true\")\n        if (data.watched) {\n            let watchedList = data.watched;\n            let movieObjects = await Promise.all(\n                watchedList.map(async movieId => {\n                    let movieObject = await fetch(\n                        `https://api.themoviedb.org/3/movie/${movieId}?api_key=50b81e1c6c3b9e5f74d2015b742ff0b0&`,\n                    );\n                    return movieObject.json();\n                }),\n            )\n            refs.gallery.innerHTML = '';\n            movieObjects.map(({ id, name, poster_path, title, release_date, genres, vote_average }) => {\n                const releaseDate = release_date.split('-')[0];\n                const movieGenres = genres.map(({ name }) => name).join(\", \");\n                let img = poster_path\n                    ? `https://image.tmdb.org/t/p/w500${poster_path}`\n                    : emptyJpg;\n                const movie = [{ id, name, img, title, releaseDate, movieGenres, vote_average }];\n                updateMarkup(movie);\n            });\n        } else {\n            addEmptyStylePage();\n        }\n    })\n}\n\nfunction getMoviesQueue(uid) {\n    auth.readUserData(uid).then((data) => (data.val())).then(async (data) => {\n        refs.pagination.setAttribute(\"hidden\", \"true\")\n        if (data.queue) {\n            let queueList = data.queue;\n            let movieObjects = await Promise.all(\n                queueList.map(async movieId => {\n                    let movieObject = await fetch(\n                        `https://api.themoviedb.org/3/movie/${movieId}?api_key=50b81e1c6c3b9e5f74d2015b742ff0b0&`,\n                    );\n\n                    return movieObject.json();\n                }),\n            )\n            movieObjects.map(({ id, name, poster_path, title, release_date, genres, vote_average }) => {\n                const releaseDate = release_date.split('-')[0];\n                const movieGenres = genres.map(({ name }) => name).join(\", \");\n                let img = poster_path\n                    ? `https://image.tmdb.org/t/p/w500${poster_path}`\n                    : emptyJpg;\n                const movie = [{ id, name, img, title, releaseDate, movieGenres, vote_average }];\n                updateMarkup(movie);\n            });\n        }\n        else {\n            addEmptyStylePage();\n        }\n    })\n}\n\nfunction updateMarkup(movie) {\n    let markup = '';\n    if (movie.status !== '404') {\n        markup = libraryListOfMovieTml(movie);\n    }\n    refs.gallery.insertAdjacentHTML('beforeend', markup);\n}\n\n\n\nrefs.gallery.addEventListener(\"click\", (event) => {\n    if (event.target.classList.contains(\"delMovieBtn\")) {\n        const movieData = event.target;\n        console.log(\"Hello\")\n        const uid = firebase.auth().currentUser.uid;\n        //console.log(uid)\n        deleteMovie(movieData, uid);\n    }\n});\n\nexport { getMoviesQueue, getMoviesWatched, };","import refs from './refs.js';\nimport * as get from './fnGetDataFromFireBase.js';\nimport firebase from 'firebase/app';\nimport * as not from './fnNotify.js';\nimport { registerDecorator } from 'handlebars';\n\n\n\nrefs.homeBtn.addEventListener('click', () => {\n  if (refs.libraryButton.classList.contains('activ-link-style')) {\n    refs.homeBtn.classList.add('activ-link-style');\n    refs.libraryButton.classList.remove('activ-link-style');\n  }\n});\n\n\nfunction createLibraryPage() {\n  refs.libraryButton.addEventListener('click', () => {\n\n    refs.btnMore.style.display = 'none';\n    refs.pagination.setAttribute(\"hidden\", \"true\")\n    refs.gallery.innerHTML = '';\n    if (firebase.auth().currentUser) {\n      get.getMoviesWatched(firebase.auth().currentUser.uid);\n      if (refs.homeBtn.classList.contains('activ-link-style')) {\n        refs.homeBtn.classList.remove('activ-link-style');\n        refs.libraryButton.classList.add('activ-link-style');\n      }\n\n      if (refs.queueBtn().classList.contains('btn-active-style')) {\n        console.log('hello');\n        toggleClass(refs.queueBtn());\n        toggleClass(refs.watchedBtn());\n        refs.queueBtn().toggleAttribute('disabled');\n        refs.watchedBtn().toggleAttribute('disabled');\n      }\n    } else {\n      not.authNotify();\n    }\n\n  });\n\n  refs.header.addEventListener('click', (event) => {\n    if (event.target.dataset.queueFilmBtn) {\n      queueSetStyles();\n    }\n    if (event.target.dataset.watchedFilmBtn) {\n      watchedSetStyle();\n\n    }\n  });\n}\n\nfunction queueSetStyles() {\n  window.location.hash = '#queue'\n  refs.gallery.innerHTML = '';\n  if (firebase.auth().currentUser.uid) {\n    if (refs.gallery.classList.contains('empty-page-style')) {\n      refs.gallery.classList.remove(\"empty-page-style\");\n      refs.gallery.classList.add(\"gallery\");\n\n    }\n    get.getMoviesQueue(firebase.auth().currentUser.uid)\n    toggleClass(refs.queueBtn());\n    toggleClass(refs.watchedBtn());\n    refs.queueBtn().setAttribute('disabled', true);\n    refs.watchedBtn().removeAttribute('disabled');\n  }\n\n\n}\n\nfunction watchedSetStyle() {\n  window.location.hash = '#library'\n  refs.gallery.innerHTML = '';\n  if (firebase.auth().currentUser) {\n    get.getMoviesWatched(firebase.auth().currentUser.uid);\n  } else {\n    not.authNotify();\n  } toggleClass(refs.watchedBtn());\n  toggleClass(refs.queueBtn());\n  refs.queueBtn().removeAttribute('disabled');\n  refs.watchedBtn().setAttribute('disabled', true);\n}\n\nfunction toggleClass(selector) {\n  ['btn-nonactive-style', 'btn-active-style'].map(cls =>\n    selector.classList.toggle(cls),\n  );\n}\n\n/** Example of usage: toggleClasses(myButton, 'btn-red', 'btn-green'); */\nconst toggleClasses = (element, ...classes) => {\n  classes.map(cls => element.classList.toggle(cls));\n};\n\n\nexport {\n  createLibraryPage,\n  watchedSetStyle,\n  queueSetStyles,\n}","import refs from './refs.js';\nimport fnAddEmptyStylePage from './fnAddEmptyStylePage.js'\nimport * as library from './myLibrary.js';\nimport * as get from './fnGetDataFromFireBase.js';\nimport firebase from 'firebase/app';\n\n\nfunction fnReloadPage() {\n  if (refs.homeBtn.classList.contains('activ-link-style')) {\n    refs.homeBtn.classList.remove('activ-link-style');\n    refs.libraryButton.classList.add('activ-link-style');\n  }\n  if (window.location.hash === '#library') {\n    refs.pagination.setAttribute(\"hidden\", \"true\");\n    refs.gallery.innerHTML = '';\n    //fnAddEmptyStylePage();\n    get.getMoviesWatched(firebase.auth().currentUser.uid);\n  }\n  if (window.location.hash === '#queue') {\n    refs.pagination.setAttribute(\"hidden\", \"true\");\n    refs.gallery.innerHTML = '';\n    //get.getMoviesQueue(firebase.auth().currentUser.uid)\n    library.queueSetStyles();\n  }\n}\n\nexport default fnReloadPage;\n","import itemsTemplate from '../template/myLibraryHeaderTamplate.hbs';\nimport fnReloadPage from './fnReloadPage.js';\nimport refs from './refs.js'\n\nconst headerRef = document.querySelector('#page-header');\nconst libraryRef = document.querySelector('.library-ref');\nconst inputRef = document.querySelector('.search-form');\nconst pageRef = document.querySelector('.ref-wrapper');\nconst removeListenerBtnRef = document.querySelector('.remove');\nimport firebase from 'firebase/app';\n\n\nlet markup = '';\nmarkup = itemsTemplate();\n\nconst createMarkup = () => {\n  inputRef.remove();\n  let btnWrapper = refs.headerBtnWrapper(true);\n  if (btnWrapper) {\n    btnWrapper.innerHTML = '';\n  }\n  pageRef.insertAdjacentHTML('afterend', markup);\n  headerRef.classList.replace('page-header', 'page-header-library');\n};\n\nlibraryRef.addEventListener('click', () => {\n  if (firebase.auth().currentUser) {\n    createMarkup()\n  }\n})\n\n// libraryRef.addEventListener('click', createMarkup);\n/*\nremoveListenerBtnRef.addEventListener('click', () => {\n  removeListenerBtnRef.removeEventListener('click', createMarkup);\n});\n*/\nfunction reloadPage() {\n  if (location.hash) {\n    createMarkup();\n    //removeListenerBtnRef.removeEventListener('click', createMarkup);\n    fnReloadPage();\n  }\n}\n\nexport default reloadPage;\n","import fetchMovies from './fetchMovies';\nimport reloadPage from './library-header.js';\nimport firebase from 'firebase/app';\nimport * as not from './fnNotify.js';\n\n\n// TODO: implement real function and import here:\n// Also check auth on \"my library click\";\n\nfunction renderingContent() {\n  if (!location.hash) {\n    fetchMovies();\n    return;\n  }\n\n  if (firebase.auth().currentUser) {\n    reloadPage();\n  } else {\n    not.authNotify();\n  }\n\n}\nexport default renderingContent;\n","import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\nimport firebaseConfig from './firebaseConfig';\nimport refs from './refs';\nimport renderingContent from './renderingContent';\n\nfirebase.initializeApp(firebaseConfig);\n\nrefs.signIn.addEventListener('click', googleSignIn);\nrefs.signOut.addEventListener('click', googleSignOut);\n/**\n    * initApp handles setting up UI event listeners and registering Firebase auth listeners:\n    *  - firebase.auth().onAuthStateChanged: This listener is called when the user is signed in or\n    *    out, and that is where we update the UI.\n    */\n\nfunction initApp(callback) {\n  // Auth state changes.\n  firebase.auth().onAuthStateChanged(function (user) {\n    if (user) {\n      // User is signed in.\n      const displayName = user.displayName;\n      const photoURL = user.photoURL;\n      const email = user.email;\n      const uid = user.uid;\n\n      refs.signOut.hidden = false;\n      refs.signIn.hidden = true;\n      refs.userInfo.hidden = false;\n      refs.userInfo.innerHTML =\n            `<img class=\"user-img\" src=\"${photoURL}\"> \n            <div class=\"user-block\">\n              <p class=\"user-name\">${displayName}</p>\n              <p class=\"user-email\">${email}</p>\n            </div>`;\n\n      console.log(`Current user: ${displayName}`, `userId: ${uid}`);\n      readUserData(uid)  // загружает данные из БД\n\n    } else {\n      // User is signed out.\n      refs.signOut.hidden = true;\n      refs.signIn.hidden = false;\n      refs.userInfo.hidden = true;\n      refs.userInfo.innerHTML = '';\n    }\n    callback();\n  });\n}\n\nfunction googleSignIn() {\n  const provider = new firebase.auth.GoogleAuthProvider();\n  firebase.auth()\n    .signInWithPopup(provider)\n    .then((result) => {\n      const credential = result.credential;\n      // This gives you a Google Access Token. You can use it to access the Google API.\n      const token = credential.accessToken;\n      // The signed-in user info.\n      const user = result.user;\n      const userId = user.uid;\n      const name = user.displayName;\n      const email = user.email;\n      const imageUrl = user.photoURL;\n\n      console.log(user);\n      console.log(\"Success!\");\n\n      //Проверяет существует ли пользователь в БД, если нет - добавляет в БД\n      checkUserID().then((data) => {\n        if (data.exists()) {\n          console.log('User exist in database');\n          readUserData(userId);  // загружает данные из БД\n        }\n        else {\n          console.log('User NOT exist in database');\n          writeUserData(userId, name, email, imageUrl);\n        }\n      });\n\n\n\n    }).catch((error) => {\n      // Handle Errors here.\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      // The email of the user's account used.\n      const email = error.email;\n      // The firebase.auth.AuthCredential type that was used.\n      const credential = error.credential;\n      console.log(errorMessage);\n      console.log(\"Failed!\");\n    });\n}\n\nfunction googleSignOut() {\n\n  firebase.auth().signOut().then(() => {\n    console.log('Sign-out successful.');\n    window.location.href = 'index.html';\n    renderingContent();\n    refs.userInfo.innerHTML = '';\n    refs.userInfo.hidden = true;\n  }).catch((error) => {\n    console.log('An error happened');\n  });\n}\n\n// Получает данные пользователя с текущим uid из БД\nfunction checkUserID() {\n  const userId = firebase.auth().currentUser.uid;\n  return firebase.database().ref('/users/' + userId).once('value');\n}\n\n// Записывает в БД основную инфу о пользователе, только при первом SignIn(при регистрации)\nfunction writeUserData(userId, name, email, imageUrl) {\n  database.ref('users/' + userId).set({\n    username: name,\n    email: email,\n    profile_picture: imageUrl\n  }, (error) => {\n    if (error) {\n      console.log('Failed!');\n    } else {\n      console.log('User data saved successfully!');\n    }\n  });\n}\n\n//Считывает данные из БД firebase\nfunction readUserData(userId) {\n  return firebase.database().ref('/users/' + userId).once('value');\n//   return firebase.database().ref('/users/' + userId).once('value').then((data) => console.log(data.val()));\n}\n\n\n//**Доделать**  Должна записывать данные из local storage в базу данных\nfunction addDataToRemoteStorage(userId, watched, queue) {\n\n  database.ref('users/' + userId).update({\n    watched: watched,\n    queue: queue,\n  }, (error) => {\n      if (error) {\n        console.log('Failed!');\n      } else {\n        console.log('Data added successfully!');\n      }\n    });\n    \n  }\n\nexport { initApp, readUserData, checkUserID };","import fetchOneMovie from './fetchOneMovie';\nimport updateMovieModal from './updateMovieModal';\nimport refs from './refs';\nimport emptyJpg from '../img/empty-img.jpg'\nimport firebase from 'firebase/app';\nimport * as auth from './Auth.js';\n\n\n\nrefs.gallery.addEventListener('click', onImgClick)\n\nfunction onImgClick(e) {\n  if (e.target === document.querySelectorAll(\".movie-poster-lib\")) { console.log(e.target) }\n\n  if (e.target.nodeName !== 'IMG') {\n    return;\n  }\n\n  if (e.target.dataset.emptyPage) {\n    return;\n  }\n\n  const activeImg = e.target;\n  const imgSrc = activeImg.dataset.src;\n  const movieId = activeImg.dataset.movieId;\n\n  openModal(movieId);\n\n}\n\nfunction openModal(movieId) {\n  window.addEventListener('keydown', onPressEscape);\n  refs.modalDiv.classList.add('is-open');\n  refs.body.classList.add('scroll-hidden');\n  refs.upBtn.hidden = true;\n  refs.modalDivContent.innerHTML = '';\n  fetchOneMovie(movieId)\n    .then(({ id, poster_path, title, release_date, genre_ids,\n      vote_average, vote_count, original_title, genres, overview, popularity }) => {\n      let img = poster_path\n        ? `https://image.tmdb.org/t/p/w500${poster_path}`\n        : emptyJpg;\n      let movie = ({ id, title, release_date, genre_ids, img, vote_average, vote_count, original_title, genres, overview, popularity });\n      updateMovieModal(movie)\n    })\n    .then(() => checkMovieInStorage(movieId));\n}\n\nrefs.gallery.addEventListener('click', (ev) => {\n\n  checkMovieInStorage(ev.movieId)\n\n})\n\n\n\n\nfunction checkMovieInStorage(movieId) {\n  let currentUser = firebase.auth().currentUser\n  if (!currentUser) {\n    return;\n  }\n\n  auth.readUserData(currentUser.uid)\n    .then((data) => (data.val())).then((data) => {\n      if (data.watched || data.queue) {\n        console.log(\"we are in!\")\n        const dataFromWatched = data.watched;\n        const dataFromQueue = data.queue;\n        console.log(\"ok\")\n        const addToWatched = refs.addToWatched(true);\n        const addToQueue = refs.addToQueue(true);\n\n        if (dataFromWatched.includes(movieId)) {\n          if (addToWatched.classList.contains(\"active-btn-style\")) {\n            addToWatched.classList.remove('active-btn-style');\n            addToWatched.classList.add('inactive-btn-style');\n            addToWatched.textContent = \"ALREADY IN WATCHED\";\n            addToWatched.setAttribute(\"disabled\", 'true');\n          }\n        }\n        if (dataFromQueue.includes(movieId)) {\n          if (addToQueue.classList.contains(\"active-btn-style\")) {\n            addToQueue.classList.remove('active-btn-style');\n            addToQueue.classList.add('inactive-btn-style');\n            addToQueue.textContent = \"ALREADY IN QUEUE\";\n            addToQueue.setAttribute(\"disabled\", 'true');\n\n          }\n        }\n      }\n    })\n\n}\n\nrefs.btnClose.addEventListener(\"click\", closeModal);\nrefs.overlayDiv.addEventListener('click', closeModal);\n\nfunction closeModal() {\n  window.removeEventListener('keydown', onPressEscape);\n\n  refs.modalDiv.classList.remove('is-open');\n  refs.body.classList.remove('scroll-hidden');\n  refs.upBtn.hidden = false;\n}\n\nfunction onPressEscape(event) {\n  if (event.code === 'Escape') {\n    closeModal();\n  }\n}\n","import * as templ from './modalCards';\nimport * as library from './myLibrary.js';\nimport '@pnotify/core/dist/PNotify.css';\nimport '@pnotify/core/dist/BrightTheme.css';\nimport renderingContent from './renderingContent.js';\nimport markUpSearchMovie from './markupSearchedMovies'\nimport * as add from './fnAddDataToFireBase.js'\nimport * as auth from './Auth.js'\n\n\n\nmarkUpSearchMovie();\nlibrary.createLibraryPage();\nadd.addDataToFireBaseStorage();\n//setToLocalStorage();\n//addDataToLocalStorage();\n\nauth.initApp(renderingContent);","import throttle from 'lodash.throttle';\n\nconst upBtn = document.querySelector('[data-up-btn]');\n\nwindow.addEventListener('scroll', throttle(hideElOnScroll(upBtn), 250));\nupBtn.addEventListener('click', toPageTopOnClick);\n\nfunction hideElOnScroll(el) {\n  return function hideOnScroll(e) {\n    if (pageYOffset < document.documentElement.clientHeight) {\n      el.classList.add('visually-hidden');\n    } else {\n      el.classList.remove('visually-hidden');\n    }\n  };\n}\n\nfunction toPageTopOnClick(e) {\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n}","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), alias4=container.hooks.helperMissing, alias5=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"movie-card\\\">\\n    <div class=\\\"movie-wrapper\\\">\\n        <img class=\\\"movie-poster-lib\\\" src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"img\") : depth0), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":62},\"end\":{\"line\":4,\"column\":71}}}) : helper)))\n    + \"\\\" data-movie-id=\\\"\"\n    + alias2(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":88},\"end\":{\"line\":4,\"column\":94}}}) : helper)))\n    + \"\\\">\\n        <button class=\\\"delMovieBtn\\\" id=\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \">x</button>\\n    </div>\\n\\n    <div class=\\\"movie-title-wrapper\\\">\\n        <h1 class=\\\"movie-title\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"title\") : depth0), depth0))\n    + \"</h1>\\n\\n    </div>\\n    <div class=\\\"info-wrapper\\\">\\n        <p class=\\\"movie-info\\\">\\n            \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"movieGenres\") : depth0), depth0))\n    + \" | \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"releaseDate\") : depth0), depth0))\n    + \"\\n        </p>\\n        <p class=\\\"vote\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0), depth0))\n    + \"</p>\\n\\n    </div>\\n\\n</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":21,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","const bodyRef = document.querySelector('body');\nconst inputChange = document.querySelector('.theme-switch__toggle');\nconst modalDivContent = document.querySelector('.lightbox__content');\n// const backdrop = document.querySelector('backdrop');\n// const teamModal = document.querySelector('team-modal');\n// const overlayDiv = document.querySelector('.lightbox__overlay');\n// const lightbox = document.querySelector('.lightbox');\n\nconst Theme = {\n  LIGHT: 'light-theme',\n  DARK: 'dark-theme',\n};\n\nconst delClassElem = () => {\n  bodyRef.classList.remove(Theme.LIGHT, Theme.DARK);\n modalDivContent.classList.remove(Theme.LIGHT, Theme.DARK);\n    // backdrop.classList.remove(Theme.LIGHT, Theme.DARK);\n    // teamModal.classList.remove(Theme.LIGHT, Theme.DARK);\n    // lightbox.classList.remove(Theme.LIGHT, Theme.DARK);\n}\ninputChange.addEventListener('change', () => {\n  delClassElem();\n  if (inputChange.checked) {\n    localStorage.setItem('Theme','darkTheme');\n    bodyRef.classList.add(Theme.DARK);\n     modalDivContent.classList.add(Theme.DARK);\n      // backdrop.classList.add(Theme.DARK);\n      // teamModal.classList.add(Theme.DARK);\n      //  lightbox.classList.add(Theme.DARK);\n  } else {\n    localStorage.setItem('Theme','lightTheme');\n    bodyRef.classList.add(Theme.LIGHT);\n    modalDivContent.classList.add(Theme.LIGHT);\n      // backdrop.classList.add(Theme.LIGHT);\n      //  teamModal.classList.add(Theme.LIGHT);\n      // lightbox.classList.add(Theme.LIGHT);\n  }\n});\nif(localStorage.getItem('Theme') === 'darkTheme'){\n  inputChange.setAttribute('checked', true);\n  bodyRef.classList.add(Theme.DARK);\n  modalDivContent.classList.add(Theme.DARK);\n    // backdrop.classList.add(Theme.DARK);\n    //  teamModal.classList.add(Theme.DARK);\n    // lightbox.classList.add(Theme.DARK);\n}\n\n","module.exports = __webpack_public_path__ + \"img/empty-page-optimaze.png\";","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"movie-card\\\">\\n    <img class=\\\"movie-poster\\\" src=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"img\") || (depth0 != null ? lookupProperty(depth0,\"img\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"img\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":34},\"end\":{\"line\":5,\"column\":41}}}) : helper)))\n    + \" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":47},\"end\":{\"line\":5,\"column\":56}}}) : helper)))\n    + \"\\\" data-movie-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":73},\"end\":{\"line\":5,\"column\":79}}}) : helper)))\n    + \"\\\">\\n    <h1 class=\\\"movie-title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":28},\"end\":{\"line\":6,\"column\":37}}}) : helper)))\n    + \"</h1>\\n    <p class=\\\"movie-info\\\"> \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"movieGenres\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":27},\"end\":{\"line\":7,\"column\":81}}})) != null ? stack1 : \"\")\n    + \" | \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"releaseDate\") || (depth0 != null ? lookupProperty(depth0,\"releaseDate\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"releaseDate\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":84},\"end\":{\"line\":7,\"column\":99}}}) : helper)))\n    + \"</p>\\n</li>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"movieGenres\") || (depth0 != null ? lookupProperty(depth0,\"movieGenres\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"movieGenres\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":46},\"end\":{\"line\":7,\"column\":61}}}) : helper)));\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \"Genre\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<!-- Шаблон карточки фильмов -->\\n\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":0},\"end\":{\"line\":9,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}